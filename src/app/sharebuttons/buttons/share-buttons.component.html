<div *ngIf="state$ | async; let state" class="sb-group sb-{{theme}}">

  <share-button *ngFor="let button of state.selectedButtons"
                [button]="button"
                [theme]="theme"
                [url]="url"
                [title]="title"
                [description]="description"
                [image]="image"
                [tags]="tags"
                [showCount]="showCount"
                [showIcon]="showIcon"
                [showText]="showText"
                [size]="size"
                (opened)="opened.emit($event)"
                (closed)="closed.emit($event)"
                (count)="count.emit($event)"></share-button>

  <div class="sb-button sb-{{theme}}">

    <!-- SHOW LESS BUTTON -->

    <button *ngIf="state.expanded && state.shownCount < state.userButtons.length"
            [style.fontSize.px]="(1 + size/20) * 14"
            class="sb-wrapper sb-more sb-show-icon" (click)="updateState({expanded: false})">

      <div class="sb-inner">
        <div class="sb-content">
          <div class="sb-icon">
            <i class="fas fa-minus" aria-hidden="true"></i>
          </div>
        </div>
      </div>
    </button>

    <!-- SHOW MORE BUTTON -->

    <button *ngIf="!state.expanded && state.shownCount < state.userButtons.length"
            [style.fontSize.px]="(1 + size/20) * 14"
            class="sb-wrapper sb-more sb-show-icon" (click)="updateState({expanded: true})">

      <div class="sb-inner">
        <div class="sb-content">
          <div class="sb-icon">
            <i class="fas fa-ellipsis-h" aria-hidden="true"></i>
          </div>
        </div>
      </div>
    </button>

  </div>
</div>
